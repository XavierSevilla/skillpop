{"ast":null,"code":"const call = require('../../utils/call');\n\nconst _require = require('skillpop-util'),\n      validate = _require.validate,\n      _require$errors = _require.errors,\n      NotFoundError = _require$errors.NotFoundError,\n      CredentialsError = _require$errors.CredentialsError; // const { env: { REACT_APP_API_URL: API_URL } } = process\n\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nmodule.exports = function (query) {\n  debugger;\n  return (async () => {\n    const res = await call(query ? `${API_URL}/search?q=${query}` : `${API_URL}/search`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (res.status === 200) {\n      const ads = JSON.parse(res.body);\n      ads.forEach(ad => {\n        ad.date = new Date(ad.date);\n        ad.lastAccess = new Date(ad.lastAccess);\n      });\n      return ads;\n    }\n  })();\n};","map":{"version":3,"sources":["C:/Users/xavie/bootcamp/collab/skylab-bootcamp-201909/staff/javier-sevilla/skillpop/skillpop-app/src/logic/search-ads/index.js"],"names":["call","require","validate","errors","NotFoundError","CredentialsError","API_URL","process","env","REACT_APP_API_URL","module","exports","query","res","method","headers","status","ads","JSON","parse","body","forEach","ad","date","Date","lastAccess"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,kBAAD,CAApB;;iBACkEA,OAAO,CAAC,eAAD,C;MAAjEC,Q,YAAAA,Q;iCAAUC,M;MAAUC,a,mBAAAA,a;MAAeC,gB,mBAAAA,gB,EAC3C;;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAC9B;AAEA,SAAO,CAAC,YAAY;AAChB,UAAMC,GAAG,GAAG,MAAMb,IAAI,CAACY,KAAK,GAAI,GAAEN,OAAQ,aAAYM,KAAM,EAAhC,GAAqC,GAAEN,OAAQ,SAArD,EAA+D;AACjFQ,MAAAA,MAAM,EAAE,KADyE;AAEjFC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAFwE,KAA/D,CAAtB;;AAKA,QAAIF,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACpB,YAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACO,IAAf,CAAZ;AAEAH,MAAAA,GAAG,CAACI,OAAJ,CAAYC,EAAE,IAAI;AACdA,QAAAA,EAAE,CAACC,IAAH,GAAU,IAAIC,IAAJ,CAASF,EAAE,CAACC,IAAZ,CAAV;AAEAD,QAAAA,EAAE,CAACG,UAAH,GAAgB,IAAID,IAAJ,CAASF,EAAE,CAACG,UAAZ,CAAhB;AACH,OAJD;AAMA,aAAOR,GAAP;AACH;AACJ,GAjBM,GAAP;AAkBH,CArBD","sourcesContent":["const call = require('../../utils/call')\r\nconst { validate, errors: { NotFoundError, CredentialsError } } = require('skillpop-util')\r\n// const { env: { REACT_APP_API_URL: API_URL } } = process\r\nconst API_URL = process.env.REACT_APP_API_URL\r\n\r\nmodule.exports = function (query) {\r\n    debugger\r\n\r\n    return (async () => {\r\n        const res = await call(query ? `${API_URL}/search?q=${query}` : `${API_URL}/search`, {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        })\r\n\r\n        if (res.status === 200) {\r\n            const ads = JSON.parse(res.body)\r\n\r\n            ads.forEach(ad => {\r\n                ad.date = new Date(ad.date)\r\n\r\n                ad.lastAccess = new Date(ad.lastAccess)\r\n            })\r\n\r\n            return ads\r\n        }\r\n    })()\r\n}"]},"metadata":{},"sourceType":"module"}